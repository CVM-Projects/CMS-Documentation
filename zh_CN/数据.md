# 数据

## 指令中数据的长度限制

### 概念

CMS 的一些指令中会有字面量数据，如：

```
mov %1, 5
```

在传统的汇编语言/字节码中，指令中的字面量会限制其长度，这样可以方便指令的读取和数据的处理。

因为 CMS 对整型数据的处理都是使用函数调用实现的，因此 CMS 对指令中数据的长度没有特殊要求。

CMS 允许 CMS 的处理程序对 指令中字面量数据的长度 进行限制。
其中 CVM 规定了其不能超过 32 bits 。

CMS 的数据分为可存放于指令中的 **短数据** 与 只能存放于数据段的 **长数据** 。
短数据 是 不大于 限制长度 的数据，长数据 是 长度超过 限制长度。
这两个术语仅在描述具体的实现（CVM等）和一些特定的场所中使用。
CMS 没有规定短数据和长数据的界限，具体的实现可以根据需要进行设计。

### CVM 中的处理方式

在 CVM 中，指令中的限制长度为 32 位。

短数据 是 不大于 32位 的数据。包括但不限于：
- cms#boolean 类型数据。
- cms#int8, cms#int16, cms#int32, cms#uint8, cms#uint16, cms#uint32 等机器无关的不超过32位的定长数据。

长数据 是 32位 限制长度。包括但不限于：
- cms#string 字符串数据。
- cms#int64, cms#uint64 等机器无关的超过32位定长数据。

机器相关的数据具有未知的长度，根据具体的编译时信息来确定。包括但不限于：

- cms#int, cms#uint, cms#float, cms#double 等不定长数据。
- cms#pointer C 指针数据。
