# 运行模式

## 运行模式

在函数定义段的开头，会有如下标记：
.mode XXX
表示函数的运行模式。

不同模式下，寄存器的存储、指令的行为是不同的。

- static 静态模式。这种模式下，寄存器存储的是数据或指向数据的指针，不带有类型信息。
- dynamic 动态模式。这种模式下，寄存器存储的是指向对象的指针，类型动态存储。
- automatic 自动模式。这种模式的运行状态为调用者所期待的运行状态。

### 判断依据

- 含有动态元（动态变量）的函数，一定以动态模式运行。
- 不在运行时处理类型信息的函数，默认以静态模式运行。
- automatic 模式运行状态与调用者的 call 指令直接相关。

### 调用方式

父\子 | static | dynamic
--|--|--
static|直接调用|调用时加上类型信息，返回时去除类型信息
dynamic|调用时去除类型信息，返回时加上类型信息|直接调用
